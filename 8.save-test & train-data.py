#!/usr/bin/python
#coding=utf-8
import numpy as np
import csv
filename = '训练集2.csv'
with open(filename) as f:
    reader = csv.reader(f)
    data = list(reader)
#input_arr = np.array([None, None, None, None, None, None, None, None, None,None, None, None, None, None, None])
#output_arr = np.array([None])
input_arr=np.zeros((40963,23))
output_arr=np.zeros((40963,1))
for i in range(0, 40963):
    input_arr[i][0]=float(data[i][1])
    input_arr[i][1]=float(data[i][2])
    input_arr[i][2]=int(data[i][4])
    input_arr[i][3] = int(data[i][5])
    input_arr[i][4] = int(data[i][6])
    input_arr[i][5] = int(data[i][7])
    input_arr[i][6] = int(data[i][8])
    input_arr[i][7] = int(data[i][9])
    input_arr[i][8] = int(data[i][10])
    input_arr[i][9] = int(data[i][11])
    input_arr[i][10] = int(data[i][12])
    input_arr[i][11] = int(data[i][13])
    input_arr[i][12] = int(data[i][14])
    input_arr[i][13] = int(data[i][15])
    input_arr[i][14]=int(data[i][24])
    input_arr[i][15] = int(data[i][17])
    input_arr[i][16] = int(data[i][18])
    input_arr[i][17] = int(data[i][19])
    input_arr[i][18] = int(data[i][20])
    input_arr[i][19] = int(data[i][21])
    input_arr[i][20] = int(data[i][22])
    input_arr[i][21] = int(data[i][23])
    input_arr[i][22]=int(data[i][25])
    output_arr[i][0]=int(data[i][16])
    #row = np.array(
        #[lat,lon,t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,poiNum])
    #input_arr = np.row_stack((input_arr, row))
    #output_arr = np.row_stack((output_arr, [demand]))
#input_arr = np.delete(input_arr, 0, 0)  # 删除第一行
#output_arr = np.delete(output_arr, 0, 0)
np.save("input_arr.npy", input_arr)
np.save("output_arr.npy", output_arr)

filename = '测试集.csv'
with open(filename) as f:
    reader = csv.reader(f)
    data = list(reader)
#test_input_arr = np.array([None, None, None, None, None, None, None, None, None,None, None, None, None, None, None])
#test_output_arr = np.array([None])
test_input_arr=np.zeros((4000,23))
test_output_arr=np.zeros((4000,1))
for i in range(0, 4000):
    test_input_arr[i][0] = float(data[i][1])
    test_input_arr[i][1] = float(data[i][2])
    test_input_arr[i][2] = int(data[i][4])
    test_input_arr[i][3] = int(data[i][5])
    test_input_arr[i][4] = int(data[i][6])
    test_input_arr[i][5] = int(data[i][7])
    test_input_arr[i][6] = int(data[i][8])
    test_input_arr[i][7] = int(data[i][9])
    test_input_arr[i][8] = int(data[i][10])
    test_input_arr[i][9] = int(data[i][11])
    test_input_arr[i][10] = int(data[i][12])
    test_input_arr[i][11] = int(data[i][13])
    test_input_arr[i][12] = int(data[i][14])
    test_input_arr[i][13] = int(data[i][15])
    test_input_arr[i][14] = int(data[i][24])
    test_input_arr[i][15] = int(data[i][17])
    test_input_arr[i][16] = int(data[i][18])
    test_input_arr[i][17] = int(data[i][19])
    test_input_arr[i][18] = int(data[i][20])
    test_input_arr[i][19] = int(data[i][21])
    test_input_arr[i][20] = int(data[i][22])
    test_input_arr[i][21] = int(data[i][23])
    test_input_arr[i][22] = int(data[i][25])
    test_output_arr[i][0] = int(data[i][16])
    #row = np.array(
        #[lat, lon, t1, t2, t3, t4, t5, t6, t7, t8, t9, t10, t11, t12, poiNum])
    #test_input_arr = np.row_stack((test_input_arr, row))
    #test_output_arr = np.row_stack((test_output_arr, [demand]))
#test_input_arr = np.delete(test_input_arr, 0, 0)  # 删除第一行
#test_output_arr = np.delete(test_output_arr, 0, 0)
np.save("test_input_arr.npy", test_input_arr)
np.save("test_output_arr.npy", test_output_arr)